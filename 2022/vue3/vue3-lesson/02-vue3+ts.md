# vue3

## 1、vue2问题重现

    * 利用下标方式修改数组中的元素值，页面不自动更新
    * 为对象添加新属性，页面不自动更新
    * 数据和方法要求必须集中放在指定区域

## 2、vue2 和 vue3 绑定原理区别

vue2绑定原理：

访问器属性 + 虚拟DOM 树

访问器属性的问题：

* 只能为首次创建new Vue()对象时初始就有的属性添加监视（访问器属性）
  * 今后动态添加进来的成员，就无法自动添加访问器属性，也就无法自动得到监视
* 无法给索引数组的数字下标添加访问器属性
  * 在vue2中通过下标修改索引数组的元素值，页面不会自动更新

控制台可以看到 `(...)` 这种都是访问器属性，可以被监视的。

vue3的绑定原理：

ES6 的Proxy 代理对象 + 虚拟DOM 树

ES6 的Proxy 代理对象

    * Proxy在目标对象的外层搭建一层拦截，外界对目标对象的所有操作，都必须通过这层拦截。
    * 优点：对象内部所有现有属性自动被监视，而且，后添加的属性，一进入对象就被监视。

控制台看到 `Proxy`, 都是proxy 代理对象。看到 `[[xxxx]]`，这个是内部属性，只能程序自己用，不能访问。

