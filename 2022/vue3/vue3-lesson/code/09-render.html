<div id="app">
  {{ title }}
  <my-head :level="2" :items="items">说点啥呢？真不知道说点啥。。。</my-head>
</div>

<!-- 引入vue -->
<script src="https://unpkg.com/vue@next"></script>
<script>
  const { createApp, h } = Vue
  createApp({
    data() {
      return {
        title: '渲染函数',
        items: ['前端', '后端', '算法']
      }
    },
  })
    .component('my-head', {
      props: {
        level: {
          type: Number,
          required: true
        },
        items: {
          type: Array,
          default: []
        },
        modelValue: String
      },
      render() {
        // 和vue2比较，不再接收一个h函数
        // vue3中插槽和作用域插槽集中到$slots中，且每个值都是函数

        // 条件和循环

        // v-model => modelValue onUpdated:modelValue
        // return h('input', {
        //   onClick: $event => console.log('clicked', $event.target),
        //   modelValue: this.modelValue,
        //   'onUpdate:modelValue': value => this.$emit('update:modelValue', value)
        // })

        if (this.items.length) {
          const li = this.items.map(item => h('li', item))
          return h('ul', li)
        } else {
          // 参数1-标签名称
          // 参数2-若干属性和事件等
          // 参数3-子元素-数组，如果是字符串-text
          return h(
            'h' + this.level,
            {},
            this.$slots.default()
          )
        }
      }
    })
    .mount('#app')
</script>